#rasa #webdev #php #bitrix #backend 

[[Что такое DDD архитектура]]

[[Методы написания DDD архитектурны]]

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   HTTP Request  │───▶│CreateReviewAction│───▶│ CreateReviewCmd │
│                 │    │ (Controller)     │    │   (Command)     │
│ {json данные}   │    │                  │    │                 │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                                │                        │
                                ▼                        ▼
                       ┌──────────────────┐    ┌─────────────────┐
                       │   try/catch      │    │   validate()    │
                       │   обработка      │    │   проверка      │
                       │   ошибок         │    │   данных        │
                       └──────────────────┘    └─────────────────┘
                                │                        │
                                ▼                        ▼
                       ┌──────────────────┐    ┌─────────────────┐
                       │     Handler      │◀───│ Валидная команда│
                       │   (Use Case)     │    │                 │
                       └──────────────────┘    └─────────────────┘
                                │
                                ▼
                       ┌──────────────────┐
                       │ ReviewRepository │
                       │   (Data Layer)   │
                       └──────────────────┘
                                │
                                ▼
                       ┌──────────────────┐    ┌─────────────────┐
                       │    CIBlockElement│───▶│   Битрикс БД    │
                       │  (Infrastructure)│    │                 │
                       └──────────────────┘    └─────────────────┘
                                │
                                ▼
                       ┌──────────────────┐
                       │  Review Entity   │
                       │   (Domain)       │
                       └──────────────────┘
                                │
                                ▼
                       ┌──────────────────┐
                       │  JSON Response   │
                       │   HTTP 200       │
                       └──────────────────┘
```